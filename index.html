<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŒ©íŠ¸ í­ê²© ì—°êµ¬ì†Œ :: í˜¸ê°± íƒˆì¶œì˜ ëª¨ë“  ê²ƒ</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <style>
        /* ìŠ¤íƒ€ì¼ì€ ì´ì „ê³¼ 100% ë™ì¼í•©ë‹ˆë‹¤. (ìƒëµ ê°€ëŠ¥í•˜ì§€ë§Œ í¸ì˜ë¥¼ ìœ„í•´ ìœ ì§€) */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Pretendard', sans-serif; background: #f5f7fa; color: #333; }
        header { background: linear-gradient(135deg, #1a237e, #283593); color: white; padding: 60px 20px 40px; text-align: center; }
        header h1 { font-size: 2.5rem; font-weight: 800; margin-bottom: 10px; }
        
        .search-container { max-width: 600px; margin: 0 auto; position: relative; }
        .search-input { width: 100%; padding: 15px 20px 15px 50px; border-radius: 30px; border: none; font-size: 1.1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2); outline: none; }
        .search-icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #999; }

        .container { max-width: 1200px; margin: 40px auto; padding: 0 20px; min-height: 600px; }
        
        .filter-tags { text-align: center; margin-bottom: 30px; }
        .tag { display: inline-block; padding: 8px 16px; margin: 5px; background: white; border: 1px solid #ddd; border-radius: 20px; cursor: pointer; font-size: 0.9rem; transition: 0.2s; }
        .tag.active, .tag:hover { background: #1a237e; color: white; border-color: #1a237e; }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.2s; cursor: pointer; text-decoration: none; color: inherit; display: flex; flex-direction: column; border: 1px solid #eee; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .card-header { padding: 20px; font-size: 3rem; text-align: center; background: #fafafa; border-bottom: 1px solid #eee; }
        .card-body { padding: 20px; flex-grow: 1; }
        .category-badge { font-size: 0.75rem; font-weight: bold; color: #1a237e; background: #e8eaf6; padding: 4px 8px; border-radius: 4px; margin-bottom: 10px; display: inline-block; }
        .card-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 10px; }
        .card-desc { font-size: 0.95rem; color: #666; }

        .pagination { display: flex; justify-content: center; margin-top: 40px; gap: 10px; }
        .page-btn { padding: 10px 15px; background: white; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-weight: bold; color: #555; }
        .page-btn:hover { background: #eee; }
        .page-btn.active { background: #1a237e; color: white; border-color: #1a237e; }
        .page-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        .loading { text-align: center; padding: 50px; color: #666; font-size: 1.1rem; }
        .no-result { text-align: center; padding: 50px; color: #888; display: none; }
        footer { text-align: center; padding: 40px; color: #999; font-size: 0.8rem; margin-top: 50px; }
    </style>
</head>
<body>

    <header>
        <h1>ğŸ§ª íŒ©íŠ¸ í­ê²© ì—°êµ¬ì†Œ</h1>
        <p>ë¹…ë°ì´í„°ë¡œ ë¶„ì„í•œ í˜¸ê°± íƒˆì¶œ ì†”ë£¨ì…˜</p>
        <div class="search-container">
            <span class="material-icons-round search-icon">search</span>
            <input type="text" class="search-input" id="searchInput" placeholder="ë¬´ì—‡ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?">
        </div>
    </header>

    <div class="container">
        <div class="filter-tags" id="filterTags">
            <span class="tag active" data-filter="all">ì „ì²´ë³´ê¸°</span>
            <span class="tag" data-filter="money">ğŸ’° ì¬í…Œí¬</span>
            <span class="tag" data-filter="life">ğŸ§¬ ì¸ìƒ</span>
            <span class="tag" data-filter="consumer">ğŸ›’ ì†Œë¹„</span>
        </div>

        <!-- ë¡œë”© ë©”ì‹œì§€ (ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ë™ì•ˆ ë³´ì„) -->
        <div id="loadingMsg" class="loading">
            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤... â³
        </div>

        <div class="grid" id="cardGrid"></div>
        <div class="no-result" id="noResult">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ğŸ˜…</div>
        <div class="pagination" id="pagination"></div>
    </div>

    <footer>&copy; 2024 Fact Bomber Lab. All rights reserved.</footer>

    <script>
        // ===============================================
        // [ì¤‘ìš”] ë³€ìˆ˜ì— ë°ì´í„°ë¥¼ ì§ì ‘ ë„£ì§€ ì•Šê³  ë¹„ì›Œë‘¡ë‹ˆë‹¤.
        // ===============================================
        let pages = []; 

        const ITEMS_PER_PAGE = 9;
        let currentPage = 1;
        let currentFilter = 'all';
        let currentSearch = '';
        let filteredData = [];

        const grid = document.getElementById('cardGrid');
        const pagination = document.getElementById('pagination');
        const noResult = document.getElementById('noResult');
        const loadingMsg = document.getElementById('loadingMsg');

        // ===============================================
        // [1] ë°ì´í„° ë¡œë”© í•¨ìˆ˜ (ë¹„ë™ê¸° Fetch)
        // ===============================================
        async function loadData() {
            try {
                // 'data.json' íŒŒì¼ì„ ì½ì–´ì˜µë‹ˆë‹¤.
                const response = await fetch('./data.json');
                
                // ì½ì–´ì˜¨ í…ìŠ¤íŠ¸ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
                pages = await response.json(); 

                // ë¡œë”© ë©”ì‹œì§€ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤.
                loadingMsg.style.display = 'none';

                // í™”ë©´ì„ ê·¸ë¦½ë‹ˆë‹¤.
                initData(); 

            } catch (error) {
                console.error("ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:", error);
                loadingMsg.innerHTML = "ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.<br>ìƒˆë¡œê³ ì¹¨ í•´ì£¼ì„¸ìš”.";
            }
        }

        // 2. ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³  ì´ˆê¸°í™”í•˜ëŠ” í•¨ìˆ˜
        function initData() {
            filteredData = pages.filter(page => {
                const matchCat = currentFilter === 'all' || page.category === currentFilter;
                const matchSearch = page.title.includes(currentSearch) || page.desc.includes(currentSearch);
                return matchCat && matchSearch;
            });
            currentPage = 1;
            render();
        }

        // 3. í™”ë©´ì— ê·¸ë¦¬ëŠ” í•¨ìˆ˜
        function render() {
            grid.innerHTML = '';
            pagination.innerHTML = '';

            if (filteredData.length === 0) {
                noResult.style.display = 'block';
                return;
            }
            noResult.style.display = 'none';

            const start = (currentPage - 1) * ITEMS_PER_PAGE;
            const end = start + ITEMS_PER_PAGE;
            const pageItems = filteredData.slice(start, end);

            pageItems.forEach(page => {
                const card = document.createElement('a');
                card.href = page.url;
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-header">${page.icon}</div>
                    <div class="card-body">
                        <span class="category-badge">${getCategoryName(page.category)}</span>
                        <div class="card-title">${page.title}</div>
                        <div class="card-desc">${page.desc}</div>
                    </div>
                `;
                grid.appendChild(card);
            });

            renderPagination();
        }

        // 4. í˜ì´ì§€ë„¤ì´ì…˜
        function renderPagination() {
            const totalPages = Math.ceil(filteredData.length / ITEMS_PER_PAGE);
            if (totalPages <= 1) return;

            const prevBtn = document.createElement('button');
            prevBtn.innerText = 'ì´ì „';
            prevBtn.className = 'page-btn';
            prevBtn.disabled = currentPage === 1;
            prevBtn.onclick = () => { currentPage--; render(); window.scrollTo(0, 0); };
            pagination.appendChild(prevBtn);

            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('button');
                btn.innerText = i;
                btn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                btn.onclick = () => { currentPage = i; render(); window.scrollTo(0, 0); };
                pagination.appendChild(btn);
            }

            const nextBtn = document.createElement('button');
            nextBtn.innerText = 'ë‹¤ìŒ';
            nextBtn.className = 'page-btn';
            nextBtn.disabled = currentPage === totalPages;
            nextBtn.onclick = () => { currentPage++; render(); window.scrollTo(0, 0); };
            pagination.appendChild(nextBtn);
        }

        function getCategoryName(cat) {
            if(cat === 'money') return 'ğŸ’° ì¬í…Œí¬';
            if(cat === 'life') return 'ğŸ§¬ ì¸ìƒ';
            if(cat === 'consumer') return 'ğŸ›’ ì†Œë¹„';
            return 'ê¸°íƒ€';
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            currentSearch = e.target.value;
            initData();
        });

        document.querySelectorAll('.tag').forEach(tag => {
            tag.addEventListener('click', () => {
                document.querySelector('.tag.active').classList.remove('active');
                tag.classList.add('active');
                currentFilter = tag.dataset.filter;
                initData();
            });
        });

        // [í•µì‹¬] í˜ì´ì§€ê°€ ì—´ë¦¬ë©´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
        loadData();

    </script>
</body>
</html>
